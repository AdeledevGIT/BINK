<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Bio Page - BINK</title>
    <!-- Favicon configuration for better browser compatibility -->
    <link rel="icon" type="image/png" sizes="32x32" href="/logo.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/logo.png">
    <link rel="shortcut icon" href="/logo.png">
    <link rel="apple-touch-icon" href="/logo.png">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="bio-editor.css">
    <link rel="stylesheet" href="sidebar.css">
    <!-- Font Awesome for social icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <header class="page-header">
        <div class="logo-container-header">
            <a href="dashboard.html">
                <img src="./logo.png" alt="BINK Logo">
            </a>
        </div>
        <div class="header-user-info">
            <a href="tokens.html" class="token-balance-display">
                <i class="fas fa-coins"></i> <span id="header-token-count">0</span> tokens <i class="fas fa-plus"></i>
            </a>
        </div>
    </header>

    <div class="dashboard-container">
        <main class="dashboard-main">
            <!-- Navigation Tabs -->
            <div class="editor-navigation">
                <div class="nav-tabs">
                    <button class="nav-tab active" data-tab="templates">
                        <i class="fas fa-palette"></i>
                        <span>Templates</span>
                    </button>
                    <button class="nav-tab" data-tab="profile">
                        <i class="fas fa-user"></i>
                        <span>Profile</span>
                    </button>
                    <button class="nav-tab" data-tab="links">
                        <i class="fas fa-link"></i>
                        <span>Links</span>
                    </button>
                    <button class="nav-tab" data-tab="social">
                        <i class="fas fa-share-alt"></i>
                        <span>Social</span>
                    </button>
                </div>
            </div>

            <!-- Tab Content Container -->
            <div class="tab-content-container">
                <!-- Templates Tab -->
                <div class="tab-content active" id="templates">
                    <div class="tab-header">
                        <h3>Choose Your Template</h3>
                        <p>Select a template that best represents your style â€¢ Scroll horizontally to see more</p>
                    </div>
                    <div class="templates-grid">
                        <div class="templates-scroll">
                        <!-- NeonCard -->
                        <div class="template-card">
                            <div id="neoncard-label"></div>
                            <iframe src="templates/neoncard-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Neon Card</div>
                                <button class="template-select-btn" data-template="neoncard">Preview</button>
                            </div>
                        </div>
                        <!-- Glassmorphism -->
                        <div class="template-card">
                            <div id="glassmorphism-label"></div>
                            <iframe src="templates/glassmorphism-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Glassmorphism</div>
                                <button class="template-select-btn" data-template="glassmorphism">Preview</button>
                            </div>
                        </div>
                        <!-- Classic (optional) -->
                        <div class="template-card">
                            <div id="classic-label"></div>
                            <iframe src="templates/classic-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Classic</div>
                                <button class="template-select-btn" data-template="classic">Preview</button>
                            </div>
                        </div>
                        <!-- Purple Card -->
                        <div class="template-card">
                            <div id="purplecard-label"></div>
                            <iframe src="templates/purplecard-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Purple Card</div>
                                <button class="template-select-btn" data-template="purplecard">Preview</button>
                            </div>
                        </div>
                        <!-- Landing Profile -->
                        <div class="template-card">
                            <div id="landingprofile-label"></div>
                            <iframe src="templates/landingprofile-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Landing Profile</div>
                                <button class="template-select-btn" data-template="landingprofile">Preview</button>
                            </div>
                        </div>
                        <!-- Black Landing -->
                        <div class="template-card">
                            <div id="blacklanding-label"></div>
                            <iframe src="templates/blacklanding-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Black Landing</div>
                                <button class="template-select-btn" data-template="blacklanding">Preview</button>
                            </div>
                        </div>
                        <!-- Gradient Flow -->
                        <div class="template-card">
                            <div id="gradientflow-label"></div>
                            <iframe src="templates/gradientflow-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Gradient Flow</div>
                                <button class="template-select-btn" data-template="gradientflow">Preview</button>
                            </div>
                        </div>
                        <!-- Dark Elegance -->
                        <div class="template-card">
                            <div id="darkelegance-label"></div>
                            <iframe src="templates/darkelegance-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Dark Elegance</div>
                                <button class="template-select-btn" data-template="darkelegance">Preview</button>
                            </div>
                        </div>
                        <!-- Neon Glow -->
                        <div class="template-card">
                            <div id="neonglow-label"></div>
                            <iframe src="templates/neonglow-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Neon Glow</div>
                                <button class="template-select-btn" data-template="neonglow">Preview</button>
                            </div>
                        </div>
                        <!-- Minimal Zen -->
                        <div class="template-card">
                            <div id="minimalzen-label"></div>
                            <iframe src="templates/minimalzen-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Minimal Zen</div>
                                <button class="template-select-btn" data-template="minimalzen">Preview</button>
                            </div>
                        </div>
                        <!-- Tech Wave -->
                        <div class="template-card">
                            <div id="techwave-label"></div>
                            <iframe src="templates/techwave-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Tech Wave</div>
                                <button class="template-select-btn" data-template="techwave">Preview</button>
                            </div>
                        </div>
                        <!-- Split Screen -->
                        <div class="template-card">
                            <div id="splitscreen-label"></div>
                            <iframe src="templates/splitscreen-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Split Screen</div>
                                <button class="template-select-btn" data-template="splitscreen">Preview</button>
                            </div>
                        </div>
                        <!-- Magazine -->
                        <div class="template-card">
                            <div id="magazine-label"></div>
                            <iframe src="templates/magazine-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Magazine</div>
                                <button class="template-select-btn" data-template="magazine">Preview</button>
                            </div>
                        </div>
                        <!-- Retro Wave -->
                        <div class="template-card">
                            <div id="retrowave-label"></div>
                            <iframe src="templates/retrowave-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Retro Wave</div>
                                <button class="template-select-btn" data-template="retrowave">Preview</button>
                            </div>
                        </div>
                        <!-- Nature -->
                        <div class="template-card">
                            <div id="nature-label"></div>
                            <iframe src="templates/nature-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Nature</div>
                                <button class="template-select-btn" data-template="nature">Preview</button>
                            </div>
                        </div>
                        <!-- Portfolio -->
                        <div class="template-card">
                            <div id="portfolio-label"></div>
                            <iframe src="templates/portfolio-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Portfolio</div>
                                <button class="template-select-btn" data-template="portfolio">Preview</button>
                            </div>
                        </div>
                        <!-- Corporate Professional -->
                        <div class="template-card">
                            <div id="corporate-label"></div>
                            <iframe src="templates/corporate-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Corporate Professional</div>
                                <button class="template-select-btn" data-template="corporate">Preview</button>
                            </div>
                        </div>
                        <!-- Creative Artist -->
                        <div class="template-card">
                            <div id="creative-label"></div>
                            <iframe src="templates/creative-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Creative Artist</div>
                                <button class="template-select-btn" data-template="creative">Preview</button>
                            </div>
                        </div>
                        <!-- Gradient Card -->
                        <div class="template-card">
                            <div id="gradientcard-label"></div>
                            <iframe src="templates/gradientcard-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Gradient Card</div>
                                <button class="template-select-btn" data-template="gradientcard">Preview</button>
                            </div>
                        </div>
                        <!-- Neon Minimal -->
                        <div class="template-card">
                            <div id="neonminimal-label"></div>
                            <iframe src="templates/neonminimal-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Neon Minimal</div>
                                <button class="template-select-btn" data-template="neonminimal">Preview</button>
                            </div>
                        </div>
                        <!-- Soft Pastel -->
                        <div class="template-card">
                            <div id="softpastel-label"></div>
                            <iframe src="templates/softpastel-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Soft Pastel</div>
                                <button class="template-select-btn" data-template="softpastel">Preview</button>
                            </div>
                        </div>
                        <!-- Cover Story -->
                        <div class="template-card">
                            <div id="coverstory-label"></div>
                            <iframe src="templates/coverstory-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Cover Story</div>
                                <button class="template-select-btn" data-template="coverstory">Preview</button>
                            </div>
                        </div>
                        <!-- Aurora Glow -->
                        <div class="template-card">
                            <div id="auroraglow-label"></div>
                            <iframe src="templates/auroraglow-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Aurora Glow</div>
                                <button class="template-select-btn" data-template="auroraglow">Preview</button>
                            </div>
                        </div>
                        <!-- Hero Banner -->
                        <div class="template-card">
                            <div id="herobanner-label"></div>
                            <iframe src="templates/herobanner-preview.html" class="template-preview"></iframe>
                            <div class="template-info">
                                <div class="template-title">Hero Banner</div>
                                <button class="template-select-btn" data-template="herobanner">Preview</button>
                            </div>
                        </div>
                        </div>
                        <div class="templates-controls">
                            <button class="template-control prev">
                                <i class="fas fa-chevron-left"></i>
                            </button>
                            <button class="template-control next">
                                <i class="fas fa-chevron-right"></i>
                            </button>
                        </div>
                    </div>
                    <div class="template-actions">
                        <button id="use-template-button" class="action-btn primary-btn">
                            <i class="fas fa-check"></i> Use Selected Template
                        </button>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div class="tab-content" id="profile">
                    <div class="tab-header">
                        <h3>Profile Information</h3>
                        <p>Set up your basic profile details</p>
                    </div>
                    <div class="profile-editor">
                        <div class="profile-section">
                            <div class="profile-image-section">
                                <div class="profile-pic-container">
                                    <div class="profile-pic-preview" id="profilePicPreview">
                                        <img src="profile.png" alt="Profile" id="profilePicImage">
                                        <div class="profile-pic-overlay">
                                            <i class="fas fa-camera"></i>
                                            <span>Change Photo</span>
                                        </div>
                                    </div>
                                    <input type="file" id="profilePicUpload" accept="image/*" style="display: none;">
                                </div>
                            </div>

                            <div class="profile-form-section">
                                <form id="profile-form" class="modern-form">
                                    <div class="form-row">
                                        <div class="form-group">
                                            <label for="displayName">Display Name</label>
                                            <input type="text" id="displayName" name="displayName" placeholder="Your Name">
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="username">Your Unique Link</label>
                                        <div class="link-preview">
                                            <span class="link-prefix">bink/</span>
                                            <span id="username-display" class="username-value">username</span>
                                            <div class="link-actions">
                                                <button type="button" id="copy-link-button" class="icon-btn" title="Copy Link">
                                                    <i class="fas fa-copy"></i>
                                                </button>
                                                <button type="button" id="save-link-button" class="icon-btn" title="Save">
                                                    <i class="fas fa-bookmark"></i>
                                                </button>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label for="bio">Bio</label>
                                        <textarea id="bio" name="bio" placeholder="Tell visitors about yourself..." rows="4"></textarea>
                                        <div class="char-counter">
                                            <span id="bio-char-count">0</span>/500 characters
                                        </div>
                                    </div>

                                    <input type="hidden" id="profilePicUrl" name="profilePicUrl">

                                    <div class="form-actions">
                                        <button type="submit" id="save-profile-button" class="action-btn primary-btn">
                                            <i class="fas fa-save"></i> Save Profile
                                        </button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Links Tab -->
                <div class="tab-content" id="links">
                    <div class="tab-header">
                        <h3>Manage Links</h3>
                        <p>Add and organize your important links</p>
                        <button id="add-link-button" class="action-btn primary-btn">
                            <i class="fas fa-plus"></i> Add New Link
                        </button>
                    </div>
                    <div class="links-manager">
                        <div id="links-container" class="links-grid">
                            <div class="links-placeholder">
                                <i class="fas fa-link"></i>
                                <h4>No links yet</h4>
                                <p>Add your first link to get started</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Social Tab -->
                <div class="tab-content" id="social">
                    <div class="tab-header">
                        <h3>Social Media</h3>
                        <p>Connect your social media accounts</p>
                    </div>
                    <div class="social-manager">
                        <div id="social-links-form" class="social-grid">
                            <!-- Social media inputs will be generated here -->
                        </div>
                        <div class="social-actions">
                            <button type="button" id="save-social-links-button" class="action-btn primary-btn">
                                <i class="fas fa-save"></i> Save Social Links
                            </button>
                        </div>
                    </div>
                </div>


            </div>

            <!-- Live Preview Sidebar -->
            <div class="preview-sidebar">
                <div class="preview-header">
                    <h4>Live Preview</h4>
                    <div class="preview-controls">
                        <button class="preview-control" data-device="mobile" title="Mobile View">
                            <i class="fas fa-mobile-alt"></i>
                        </button>
                        <button class="preview-control active" data-device="desktop" title="Desktop View">
                            <i class="fas fa-desktop"></i>
                        </button>
                    </div>
                </div>
                <div class="preview-container">
                    <div class="preview-frame-container">
                        <iframe id="preview-frame" src="about:blank" title="Bio Page Preview"></iframe>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Success/Error Messages -->
    <div id="message-container" class="message-container">
        <div id="success-message" class="message success-message" style="display: none;">
            <i class="fas fa-check-circle"></i>
            <span class="message-text"></span>
        </div>
        <div id="error-message" class="message error-message" style="display: none;">
            <i class="fas fa-exclamation-circle"></i>
            <span class="message-text"></span>
        </div>
    </div>


    <!-- Link Editor Modal -->
    <div id="link-editor-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="modal-title">Add New Link</h3>
            <form id="link-form">
                <input type="hidden" id="link-id" name="link-id">
                <div class="form-group">
                    <label for="link-title">Link Title</label>
                    <input type="text" id="link-title" name="link-title" required placeholder="e.g., My Website">
                </div>
                <div class="form-group">
                    <label for="link-url">URL</label>
                    <input type="url" id="link-url" name="link-url" required placeholder="https://example.com">
                </div>
                <div class="form-group">
                    <label for="link-platform">Platform</label>
                    <select id="link-platform" name="link-platform">
                        <option value="other">Other</option>
                        <option value="website">Website</option>
                        <option value="instagram">Instagram</option>
                        <option value="twitter">Twitter</option>
                        <option value="facebook">Facebook</option>
                        <option value="youtube">YouTube</option>
                        <option value="tiktok">TikTok</option>
                        <option value="linkedin">LinkedIn</option>
                        <option value="github">GitHub</option>
                        <option value="pinterest">Pinterest</option>
                        <option value="snapchat">Snapchat</option>
                        <option value="reddit">Reddit</option>
                        <option value="twitch">Twitch</option>
                        <option value="discord">Discord</option>
                        <option value="whatsapp">WhatsApp</option>
                        <option value="telegram">Telegram</option>
                        <option value="medium">Medium</option>
                        <option value="spotify">Spotify</option>
                        <option value="soundcloud">SoundCloud</option>
                        <option value="behance">Behance</option>
                        <option value="dribbble">Dribbble</option>
                        <option value="email">Email</option>
                    </select>
                </div>
                <div class="form-actions">
                    <button type="submit" id="save-link-button" class="auth-button">Save Link</button>
                    <button type="button" id="delete-link-button" class="delete-button" style="display: none;">Delete Link</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Premium Template Modal -->
    <div id="premium-template-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal" id="close-premium-modal">&times;</span>
            <h3>Premium Template</h3>
            <p>This is a premium template that requires tokens to use.</p>
            <div id="premium-template-info">
                <div class="template-price-info">
                    <p><strong>Template:</strong> <span id="premium-template-name">Template Name</span></p>
                    <p><strong>Price:</strong> <span id="premium-template-price">100</span> tokens</p>
                    <p><strong>Your balance:</strong> <span id="premium-template-balance">0</span> tokens</p>
                </div>
            </div>
            <div class="form-actions">
                <button id="use-tokens-btn" class="auth-button">Use Tokens</button>
                <button id="buy-tokens-btn" class="auth-button secondary-button">Buy Tokens</button>
                <button id="close-premium-modal-btn" class="auth-button secondary-button">Cancel</button>
            </div>
        </div>
    </div>

    <!-- Firebase App (Core) - COMPAT version -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
    <!-- Firebase Auth - COMPAT version -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth-compat.js"></script>
    <!-- Firebase Firestore - COMPAT version -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
    <!-- Firebase Storage - COMPAT version -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-storage-compat.js"></script>

    <script src="firebase-config.js"></script>
    <script src="templates/templates.js"></script>
    <script src="premium-enforcement.js"></script>
    <script src="sidebar.js"></script>
    <script src="bio-editor.js"></script>
</body>
</html>
